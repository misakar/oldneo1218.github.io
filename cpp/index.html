<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    
    
    <!-- google site -->
    <meta name="google-site-verification" content="BazmSJ55LY7H3RD6ttelAsE8PmOPjhkFnDdIjFMCiJE" />
    <title>neo1218ã®æ­»å®… - POST</title>
    <link rel="shortcut icon" href="http://7xj431.com1.z0.glb.clouddn.com/cropped-150-150-688417.png" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href=/static/css/base_site.css>
    <link rel="stylesheet" type="text/css" href=/static/css/index.css>
    <link rel="stylesheet" type="text/css" href=/static/css/post.css>
    <link rel="stylesheet" type="text/css" href=/static/css/self_card.css>
    <link rel="stylesheet" type="text/css" href=/static/css/github.css>
    <link rel="stylesheet" type="text/css" href=/static/css/logo/github.css>
    <link rel="stylesheet" type="text/css" href=/static/css/logo/facebook.css>
    <link rel="stylesheet" type="text/css" href=/static/css/logo/twitter.css>
    <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link href=/static/image/bg.png>
</head>
<body>
<header>
    <div class="top-z-container">
        <!--blur-->
        <div class="blur-top-image"></div>
        <div id="top-bar">
            <nav class="left-box">
                <ul>
                    <li>
                        <a href=/>neo1218ã®æ­»å®…</a> - Pythoner æ­»å®…åˆ°åº• ä¸æƒ³è¯´è¯ æœ¨çŠ€ä¸‡å²!
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <div id="top-image"></div>
    <nav class="nav-wrapper">
        <ul class="category-list">
            <li>
                <a href=/>
                    <span>é¦–é¡µ</span>
                    <div class="menu-icon-wrapper">
                        <span class="menu-icon icon-no-bg-color fa fa-home"></span>
                    </div>
                </a>
            </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Web/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">7</span>
                        </div>
                        Web
                    </a>
                    <ul class="drop-down" align="center">
                        <span>Webå¼€å‘</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Life/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">3</span>
                        </div>
                        Life
                    </a>
                    <ul class="drop-down" align="center">
                        <span>ç”Ÿæ´»éšç¬”</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Python/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">16</span>
                        </div>
                        Python
                    </a>
                    <ul class="drop-down" align="center">
                        <span>Pythonå­¦ä¹ </span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Other/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">3</span>
                        </div>
                        Other
                    </a>
                    <ul class="drop-down" align="center">
                        <span>å…¶ä»–</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/DIY/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">4</span>
                        </div>
                        DIY
                    </a>
                    <ul class="drop-down" align="center">
                        <span>ä¸ªäººé¡¹ç›®</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/C%26Cpp/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">1</span>
                        </div>
                        C&amp;Cpp
                    </a>
                    <ul class="drop-down" align="center">
                        <span>None</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/OS/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">5</span>
                        </div>
                        OS
                    </a>
                    <ul class="drop-down" align="center">
                        <span>æ“ä½œç³»ç»Ÿå­¦ä¹ </span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Algo/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">7</span>
                        </div>
                        Algo
                    </a>
                    <ul class="drop-down" align="center">
                        <span>ç®—æ³•å­¦ä¹ </span>
                    </ul>
                </li>
            
            <li>
                <a href=/about/>
                    <span>å…³äº</span>
                    <div class="menu-icon-wrapper">
                        <span class="menu-icon icon-no-bg-color fa fa-info"></span>
                    </div>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main>
    <div id="main">
        
<div class="post-body-wrapper">
    <div class="main_post">
        <h1>æˆ‘ä¸çŸ¥é“çš„Cpp</h1>
        <h3>2016-12-07 19:30:01</h3>
        <div class="post_body">
            <h1 id="cpp">æˆ‘ä¸çŸ¥é“çš„Cpp</h1>

<h2 id="1-sizeof">1. sizeofæ±‚å‡½æ•°ç©ºé—´å ç”¨</h2>

<pre><code>#include &lt;iostream&gt;
using namespace std;
int function(int a) {
    return a;
}
int main(void) {
    int a = 10;
    cout &lt;&lt; sizeof(function(a)) &lt;&lt; endl;
    return 0;
}
</code></pre>

<p>æŠ¥é”™:</p>

<pre><code>error: invalid application of 'sizeof' to a function type
</code></pre>

<p>èµ„æ–™:</p>

<pre><code>http://stackoverflow.com/questions/4579574/how-can-i-get-the-size-of-a-c-function
</code></pre>

<p>ç»“è®º:</p>

<pre><code>You Can't ğŸ˜Š
</code></pre>

<h2 id="2-union">2. unionå…±ç”¨ä½“çš„å¤§å°è®¡ç®—</h2>

<pre><code>#include &lt;iostream&gt;
using namespace std;
union {
    int a[5],
    char b,
    double c
} UnionObj;

int main(void) {
    cout &lt;&lt; sizeof(UnionObj) &lt;&lt; endl;
    return 0;
}
</code></pre>

<p>ç­”æ¡ˆ: 24 <br/><br />
å…³é”®å­—: å…±ç”¨ä½“ç©ºé—´æŒ‰å ç”¨å†…å­˜ç©ºé—´æœ€é•¿çš„ç±»å‹å¯¹é½(å€æ•°),å¦‚æœä¸å¯¹é½åˆ™è¡¥é½. <br/></p>

<h2 id="3-unionbig-endianlittle-endian">3. ç”¨unionåˆ¤æ–­ç³»ç»Ÿæ˜¯big endianè¿˜æ˜¯little endian</h2>

<pre><code>#include &lt;iostream&gt;
using namespace std;
union TEST {
    short a; // 2ä¸ªå­—èŠ‚
    char b[sizeof(short)];
};

int main(){
    TEST test;
    // ä¸èƒ½å¯¹å…±ç”¨ä½“å˜é‡èµ‹å€¼, åªèƒ½å¯¹å…±ç”¨ä½“ä¸­çš„å˜é‡èµ‹å€¼
    test.a = 0x0102;  // 2å­—èŠ‚æ•°æ®
    if(test.b[0] == 0x01 &amp;&amp; test.b[1] == 0x02) {
        // ä½åœ°å€æ”¾é«˜å­—èŠ‚, é«˜åœ°å€æ”¾ä½å­—èŠ‚
           cout &lt;&lt; "big endian" &lt;&lt; endl;
    }
    else { cout &lt;&lt; "little endian" &lt;&lt; endl; }
}
</code></pre>

<p>æˆ‘çš„ç”µè„‘æ˜¯little endian. bochsæ¨¡æ‹Ÿçš„x86æœºå­ä¹Ÿæ˜¯little endian,<br />
ç›®å‰å‡ ä¹æ‰€æœ‰çš„ç½‘ç»œåè®®éƒ½æ˜¯é‡‡ç”¨big endiançš„æ–¹å¼æ¥ä¼ è¾“æ•°æ®çš„.</p>

<h2 id="4-dowhile0">4. é¢„å¤„ç†: do&hellip;while(0)çš„ä½¿ç”¨</h2>

<p>ä½¿ç”¨do..while(0)ç›¸å½“äºé™å®šå¤šè¡Œè¯­å¥çš„å®, é¿å…æ›¿æ¢ä¸ºå¤šè¡Œè¯­å¥åäº§ç”Ÿé”™è¯¯</p>

<pre><code>#include &lt;iostream&gt;
using namespace std;
#define FOO(x) do {
    statement one;
    statement two;
}while(0)

int main(void) {
    if (condition)
        FOO(x)
    else { è¿™æ ·elseå°±ä¸ä¼šå‡ºé”™äº†... }
}
</code></pre>

<h2 id="5-gcc">5. gccé¢„å®šä¹‰å®</h2>

<p>æœ‰äº›å®è¿˜æ˜¯å¾ˆæœ‰ä½œç”¨çš„:)-&gt; https://gcc.gnu.org/onlinedocs/cpp/Standard-Predefined-Macros.html</p>

<h2 id="6-cc">6. Cå’ŒC++æ··åˆç¼–ç¨‹</h2>

<pre><code>#include &lt;stdio.h&gt;
int main() {
    #define TO_LITERAL(text) TO_LITERAL_(text)
    #define TO_LITERAL_(text) #text
    #ifndef __cpluscplus
        printf("a C program\n");
    #else
        printf("a C++ program\n__cpluscplus expands to \""
                To_LITERAL(__cpluscplus) " \"\n");
    #endif
    return 0;
}
</code></pre>

<p>ç»“æœ:<br />
    a C++ program<br />
    __cpluscplus expands to &ldquo;1&rdquo;</p>

<p>å¦‚æœæ˜¯åœ¨C++ä¸­è°ƒç”¨Cä»£ç , åˆ™æŠŠCä»£ç æ”¾åˆ°externä¸­. è°å«C++æ˜¯Cçš„è¶…é›†å‘¢&hellip;</p>

<h2 id="7">7.  ç»“æ„ä½“é‡Œä¹Ÿå¯ä»¥æœ‰è®¿é—®æ§åˆ¶</h2>

<pre><code>struct Student {
public:
    ....
private:
    ....
private:
    ....
};
</code></pre>

<p>å‘ƒ. è¿˜æ˜¯ç”¨ç±»å§</p>

<h2 id="8">8. ç±»å¯¹è±¡å­˜å‚¨ç©ºé—´çš„è®¡ç®—</h2>

<h3 id="1">1. ç©ºç±»</h3>

<pre><code>class Cls {
    /* 404 è¿™é‡Œä»€ä¹ˆä¹Ÿæ²¡æœ‰ */
};

Cls obj;
sizeof(obj) =&gt; 1
</code></pre>

<p>è™½ç„¶ä»€ä¹ˆä¹Ÿæ²¡åš, ä½†æ˜¯å£°æ˜äº†å¯¹è±¡, å¯¹è±¡å°±å­˜åœ¨, å­˜åœ¨åˆ™éœ€å­˜å‚¨, å ç”¨1byteçš„ç©ºé—´ <br/></p>

<h3 id="2">2. åªæœ‰æˆå‘˜å˜é‡çš„ç±»çš„å­˜å‚¨ç©ºé—´è®¡ç®—</h3>

<pre><code>class Cls {
    int length, width, height;
};

Cls obj;
sizeof(obj) =&gt; 12
</code></pre>

<p>3ä¸ªintå‹æˆå‘˜å˜é‡, å ç”¨12byteçš„ç©ºé—´ <br/></p>

<h3 id="3">3. æœ‰æˆå‘˜å˜é‡å’Œé™æ€æˆå‘˜å˜é‡</h3>

<pre><code>class Cls {
    int length, width, height;
    static int count;
};

Cls obj;
sizeof(obj) =&gt; 12
</code></pre>

<p>å—¯, æ‰€ä»¥é™æ€æˆå‘˜å˜é‡æ˜¯ä¸å ç”¨å¯¹è±¡çš„å­˜å‚¨ç©ºé—´çš„, è€Œæ˜¯åœ¨ç±»åˆ›å»ºåã€å¯¹è±¡åˆå§‹åŒ–å‰å°±åˆ†é…å¥½å†…å­˜äº†. <br/></p>

<h3 id="4">4. ç±»ä¸­åªæœ‰ä¸€ä¸ªæˆå‘˜å‡½æ•°çš„å­˜å‚¨ç©ºé—´è®¡ç®—</h3>

<pre><code>class Cls {
    int foo();
}

Cls obj;
sizeof(obj) =&gt; 1
</code></pre>

<p>å’Œç©ºç±»å¯¹è±¡ä¸€æ ·, æ‰€ä»¥æˆå‘˜å‡½æ•°æ˜¯ä¸å å¯¹è±¡ç©ºé—´çš„. <br/></p>

<h3 id="5">5. ç±»ä¸­æ„é€ å‡½æ•°ã€ææ„å‡½æ•°çš„ç©ºé—´å ç”¨æƒ…å†µ</h3>

<pre><code>class Cls {
public:
    Cls() {}
    ~Cls(){}
}

Cls obj;
sizeof(obj) =&gt; 1
</code></pre>

<p>æ„é€ å’Œææ„å‡½æ•°æ˜¯ä¸å ç”¨å¯¹è±¡çš„å†…å­˜ç©ºé—´çš„. <br/></p>

<h3 id="6">6. ç±»ä¸­æœ‰è™šçš„ææ„å‡½æ•°çš„ç©ºé—´è®¡ç®—</h3>

<pre><code>class Cls {
public:
    Cls() {}
    virtual ~Cls() {};
};

Cls obj;
sizeof(obj) =&gt; 8
</code></pre>

<p>ç±»ä¸­æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè™šææ„å‡½æ•°, ç±»éœ€è¦ç»´æŠ¤æŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆ, 64ä½æœºå™¨ä¸Šæ˜¯8å­—èŠ‚(åœ°å€)</p>

<h3 id="7_1">7. ç»§æ‰¿ç©ºç±»ä»¥åŠå¤šé‡ç»§æ‰¿ç©ºç±»çš„å­˜å‚¨ç©ºé—´è®¡ç®—</h3>

<pre><code>class Cls {};
class Cls2 {};
class Cls3 : public Cls {};
class Cls4 : public virtual Cls2 {};
class Cls5 : public A, public B {};

Cls obj1; Cls2 obj2; Cls3 obj3; Cls4 obj4; Cls5 obj5;
sizeof(obj1) =&gt; 1
sizeof(obj2) =&gt; 1
sizeof(obj3) =&gt; 1
sizeof(obj4) =&gt; 8
sizeof(obj5) =&gt; 1
</code></pre>

<p>å¤šé‡ç»§æ‰¿ç©ºç±»çš„å¯¹è±¡, ä»ç„¶åªå ç”¨1byteç©ºé—´, è€Œvirtualéœ€è¦æœ‰æŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆ,<br />
æ‰€ä»¥å ç”¨8byteç©ºé—´.</p>

<h2 id="9-this">9. thisæŒ‡é’ˆ</h2>

<p>æ¯ä¸ªå¯¹è±¡çš„æ•°æ®æˆå‘˜éƒ½åˆ†åˆ«å ç”¨å­˜å‚¨ç©ºé—´, ä½†æ˜¯<strong>ä¸åŒå¯¹è±¡çš„æˆå‘˜å‡½æ•°å…±äº«åŒä¸€ä¸ªå‡½æ•°ä»£ç æ®µ</strong>,<br />
ä»£ç æ®µåŒºåˆ†å½“å‰è°ƒç”¨çš„æˆå‘˜æ—¶, é€šè¿‡ç¼–è¯‘å™¨éšå¼ä¼ å…¥çš„thisæŒ‡é’ˆè¡¨ç¤º, æ¯”å¦‚:</p>

<pre><code>size_t member_function() {
    return age;
}
</code></pre>

<p>C++ ç¼–è¯‘å™¨ä¼šéšå¼çš„ä¼ å…¥æŒ‡å‘å½“å‰å¯¹è±¡çš„thisæŒ‡é’ˆ</p>

<pre><code>size_t member_function(Box* this) {
    return this-&gt;age
}
</code></pre>

<p>æ‰€ä»¥ obj.member_function() å®é™…ä¸Šæ˜¯è¿™æ · obj.member_function(&amp;a) è°ƒç”¨çš„. å¦‚æ­¤, å…±äº«çš„ä»£ç æ®µå°±çŸ¥é“å½“å‰è°ƒç”¨çš„å¯¹è±¡æ˜¯å“ªä¸ªäº†. <br/><br />
è€Œé™æ€æˆå‘˜å‡½æ•°æ˜¯ç±»åˆ›å»ºååˆ†é…å†…å­˜ç©ºé—´çš„, ä¸å¯¹è±¡æ— å…³, å‡½æ•°ä¸­ä¹Ÿæ²¡æœ‰ä¼ å…¥thisæŒ‡é’ˆ.  æ‰€ä»¥é€šè¿‡</p>

<pre><code>obj.staic_member_function()
</code></pre>

<p>å®é™…ä¸Šæ˜¯objæ‰€å±çš„ç±»å»è°ƒç”¨. <br/></p>

<h2 id="10-cc">10. C++å­—ç¬¦ä¸²å’ŒCå­—ç¬¦ä¸²çš„è½¬åŒ–</h2>

<p>C++å­—ç¬¦ä¸²é€šè¿‡Stringç±»å®ç°; Cå­—ç¬¦ä¸²å°±æ˜¯å­—ç¬¦æ•°ç»„, æœ€åä¸€ä¸ªå…ƒç´ æ˜¯&rsquo;\0&rsquo;æ ‡å¿—ç€å­—ç¬¦ä¸²çš„ç»“å°¾. C++å­—ç¬¦ä¸²æœ«å°¾æ²¡æœ‰&rsquo;\0&rsquo;, æœ¬è´¨ä¸Šæ˜¯ä»¥å­—ç¬¦ä½œä¸ºå…ƒç´ çš„vectorç‰¹åŒ–ç‰ˆæœ¬;<br/></p>

<p><strong>C++ -&gt; C</strong> <br/></p>

<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;
int main(void) {
    string str = "Hello world!";
    const char* cstr = str.c_str();  // C++å­—ç¬¦ä¸²è½¬Cå­—ç¬¦ä¸²
    cout &lt;&lt; cstr &lt;&lt; endl; // Hello world!
    str = "Abcd.";
    cout &lt;&lt; cstr &lt;&lt; endl; // Abcd
    return 0;
}
</code></pre>

<p>æ³¨æ„, å› ä¸ºcstræ˜¯ä¸€ä¸ªæŒ‡å‘str.c_str()å†…å­˜åŒºåŸŸçš„æŒ‡é’ˆ, stræ”¹å˜äº†, csträ¹Ÿä¼šæ”¹å˜, æ˜¾ç„¶æˆ‘ä»¬ä¸å¸Œæœ›è¿™æ ·, ä¸€ä¸ªæ¯”è¾ƒå¥½çš„åšæ³•æ˜¯æŠŠcstrçš„ç±»å®¹å¤åˆ¶å‡ºæ¥! <br/></p>

        </div>
    </div>
    <div id="disqus_thread" style="padding: 50px"></div>
    <script>
    /**
    * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    
    s.src = '//neo1218flask.disqus.com/embed.js';
    
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>

    </div>
</main>
<footer>
    <div id="foot">
        
            <div class="footer">
                <span>
                    Powered by:
                    <a href="https://github.com/neo1218/railgun/" target="_blank">railgun</a>
                    I am a loser
                </span>
                <br>
            </div>
        
    </div>
</footer>
<!--div id="toTop" style="top: 0px;" onclick="scroll_to_top(0.9); return false;">
    <div id="toTopRope"></div>
    <img id="toTopHover" src="http://7xj431.com1.z0.glb.clouddn.com/topscroll.png"></div>
</div-->
<div id="back-to-top" class="red active" data-scroll="body" style="top: -900px;">
</div>
</body>
    <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
    <script src=/static/js/base_site.js></script>
    <script src=/static/js/disqus/embed.js></script>
    <script src=/static/js/menufix.js></script>
    <script src=/static/js/backtotop.js></script>
    <script type="text/javascript">
        function loadMenuFix() { menufix("info_card"); }
        function loadDeadCat() { deadcat("toTop"); }
        function addLoadEvent(func) {
            var oldonload = window.onload;
            if (typeof window.onload != 'function') {
                window.onload = func;
            } else {
                window.onload = function() {
                    if (oldonload) {
                        oldonload();
                    }
                    func();
                }
            }
        }
        addLoadEvent(loadMenuFix);
        // addLoadEvent(loadDeadCat);
    </script>
</html>