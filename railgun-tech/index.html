<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    
    
    <!-- google site -->
    <meta name="google-site-verification" content="BazmSJ55LY7H3RD6ttelAsE8PmOPjhkFnDdIjFMCiJE" />
    <title>neo1218ã®å®¶ - POST</title>
    <link rel="shortcut icon" href="http://7xj431.com1.z0.glb.clouddn.com/cropped-150-150-688417.png" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href=/static/css/base_site.css>
    <link rel="stylesheet" type="text/css" href=/static/css/index.css>
    <link rel="stylesheet" type="text/css" href=/static/css/post.css>
    <link rel="stylesheet" type="text/css" href=/static/css/self_card.css>
    <link rel="stylesheet" type="text/css" href=/static/css/github.css>
    <link rel="stylesheet" type="text/css" href=/static/css/logo/github.css>
    <link rel="stylesheet" type="text/css" href=/static/css/logo/facebook.css>
    <link rel="stylesheet" type="text/css" href=/static/css/logo/twitter.css>
    <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link href=/static/image/bg.png>
</head>
<body>
<header>
    <div class="top-z-container">
        <!--blur-->
        <div class="blur-top-image"></div>
        <div id="top-bar">
            <nav class="left-box">
                <ul>
                    <li>
                        <a href=/>neo1218ã®å®¶</a> - Pythoner æ­»å®…åˆ°åº• ä¸æƒ³è¯´è¯ æœ¨çŠ€ä¸‡å²!
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <div id="top-image"></div>
    <nav class="nav-wrapper">
        <ul class="category-list">
            <li>
                <a href=/>
                    <span>é¦–é¡µ</span>
                    <div class="menu-icon-wrapper">
                        <span class="menu-icon icon-no-bg-color fa fa-home"></span>
                    </div>
                </a>
            </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Web/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">9</span>
                        </div>
                        Web
                    </a>
                    <ul class="drop-down" align="center">
                        <span>Webå¼€å‘</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Life/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">3</span>
                        </div>
                        Life
                    </a>
                    <ul class="drop-down" align="center">
                        <span>ç”Ÿæ´»éšç¬”</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Read/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">1</span>
                        </div>
                        Read
                    </a>
                    <ul class="drop-down" align="center">
                        <span>è¯»ä¹¦</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Python/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">16</span>
                        </div>
                        Python
                    </a>
                    <ul class="drop-down" align="center">
                        <span>Pythonå­¦ä¹ </span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Other/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">3</span>
                        </div>
                        Other
                    </a>
                    <ul class="drop-down" align="center">
                        <span>å…¶ä»–</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/DIY/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">4</span>
                        </div>
                        DIY
                    </a>
                    <ul class="drop-down" align="center">
                        <span>ä¸ªäººé¡¹ç›®</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/C%26Cpp/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">1</span>
                        </div>
                        C&amp;Cpp
                    </a>
                    <ul class="drop-down" align="center">
                        <span>å™¶å“ˆå“ˆ</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/OS/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">6</span>
                        </div>
                        OS
                    </a>
                    <ul class="drop-down" align="center">
                        <span>æ“ä½œç³»ç»Ÿå­¦ä¹ </span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Algo/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">7</span>
                        </div>
                        Algo
                    </a>
                    <ul class="drop-down" align="center">
                        <span>ç®—æ³•å­¦ä¹ </span>
                    </ul>
                </li>
            
            <li>
                <a href=/about/>
                    <span>å…³äº</span>
                    <div class="menu-icon-wrapper">
                        <span class="menu-icon icon-no-bg-color fa fa-info"></span>
                    </div>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main>
    <div id="main">
        
<div class="post-body-wrapper">
    <div class="main_post">
        <h1>railgunæŠ€æœ¯æ€»ç»“</h1>
        <h3>2016-11-06 09:58:59</h3>
        <div class="post_body">
            <h1 id="railgun">railgunæŠ€æœ¯æ€»ç»“</h1>

<p>å­¦æ ¡è¿åŠ¨ä¼šæ”¾å‡, å†™äº†è¿™ä¸ª<a href="https://github.com/neo1218/railgun">é™æ€ç«™ç‚¹ç”Ÿæˆå™¨railgun</a></p>

<h2 id="_1">ä¸ºä»€ä¹ˆè¦é‡å¤é€ è½®å­</h2>

<p>æˆ‘ä¹‹å‰ä¸€ç›´åœ¨ç”¨hexo, å¾ˆå¥½ç”¨, ä¸»é¢˜å¾ˆä¸°å¯Œ. ä¸è¿‡ä½œä¸ºä¸€ä¸ªpythoner,<br />
æˆ‘ä¸€ç›´æƒ³è‡ªå·±æ­ä¸€ä¸ªåšå®¢, äºæ˜¯åœ¨ä¸€ä¸ªå¤œé»‘é£é«˜çš„æ™šä¸Š&hellip;æˆ‘ç”¨pythonå†™äº†ä¸€ä¸ªåšå®¢ç³»ç»Ÿ,<br />
éƒ¨ç½²åˆ°äº†æœåŠ¡å™¨ä¸Š, ç„¶åæˆ‘å°±åæ‚”äº†, æ•°æ®åº“ã€éƒ¨ç½²å¤ªéº»çƒ¦!<br />
è¿˜æ˜¯ç›´æ¥é™æ€é¡µé¢æ¨githubå¥½ç”¨! ä½†æ˜¯åˆä¸æƒ³å›hexo, äºæ˜¯æˆ‘è„‘æ´äº†ä¸€ä¸‹:<br />
<strong>ä¸ºä»€ä¹ˆä¸è‡ªå·±å†™ä¸€ä¸ªé™æ€ç«™ç‚¹ç”Ÿæˆå™¨å‘¢?</strong> <br/><br />
å°±æœ‰äº†railgun:)</p>

<h2 id="railgun_1">railgunæŠ€æœ¯ç»†èŠ‚åˆ†æ</h2>

<p>ä¸€å¼€å§‹å°±å¾ˆæ˜ç¡®, railgunå°±æ˜¯ç±»ä¼¼hexoçš„ä¸œè¥¿(å…¶å®å°±æ˜¯ä¸€ä¸ªä¸œè¥¿ğŸ˜³ ),<br />
æ‰€ä»¥railgunéœ€è¦è‡ªå·±çš„å‘½ä»¤è¡Œå·¥å…·, éœ€è¦é™æ€åŒ–å·¥å…·, éœ€è¦æœ¬åœ°åˆå§‹åŒ–åçš„ç«™ç‚¹.<br />
æ‰€ä»¥railgunçš„ä»£ç ç»„ç»‡å°±å¾ˆæ¸…æ¥šäº†:</p>

<pre><code>          - cli/: å‘½ä»¤è¡Œå·¥å…·
railgun/  - gen/: é™æ€åŒ–å·¥å…·
          - site/: æœ¬åœ°ç«™ç‚¹
</code></pre>

<p>æ¥ä¸‹æ¥æˆ‘å°±åˆ†åˆ«ä»‹ç»è¿™3ä¸ªéƒ¨åˆ†çš„æŠ€æœ¯å®ç°. <br/></p>

<h3 id="gen">gen: é™æ€åŒ–</h3>

<p>å…ˆä»‹ç»é™æ€ç«™ç‚¹ç”Ÿæˆå™¨æœ€æ ¸å¿ƒçš„éƒ¨åˆ†-&gt;é™æ€åŒ–! <br/><br />
é™æ€åŒ–çš„å¤§ä½“æ€è·¯å¦‚ä¸‹:</p>

<pre><code>âš¡ï¸ å‘ç‰¹å®šçš„urlå‘è¯·æ±‚, æ‹¿åˆ°è¿”å›çš„htmlå“åº”å†…å®¹, å°†å“åº”å†…å®¹å†™å…¥æ–‡ä»¶
</code></pre>

<p>æ‰€ä»¥è¿™é‡Œå°±æœ‰2ä¸ªå‘:</p>

<ol>
<li>å¦‚ä½•å‘è¯·æ±‚å¹¶å°†å“åº”å†™å…¥æ–‡ä»¶</li>
<li>å¦‚ä½•é™æ€åŒ–æ‰€æœ‰çš„url</li>
</ol>

<p>ä»¥åŠå…¶ä»–çš„ä¸€äº›å‘:</p>

<ol>
<li>å¦‚ä½•é™æ€åŒ–static</li>
<li>å¦‚ä½•ä¿è¯é™æ€åŒ–çš„ç›¸å¯¹è·¯å¾„æ­£ç¡®</li>
</ol>

<p>å¯¹äºç¬¬1ä¸ªå‘, æˆ‘è¿™é‡Œæƒ³åˆ°äº†å†™æµ‹è¯•æ—¶ç”¨çš„<code>flask test_client</code><br />
<img alt="" src="http://7xj431.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-06%20%E4%B8%8A%E5%8D%8810.32.03.png" /> <br/><br />
å°±åƒæµ‹è¯•æ—¶ä¸€æ ·, å‘è¯·æ±‚, ä¸è¿‡ä¸æ˜¯assertåˆ¤æ–­äº†, è€Œæ˜¯ç›´æ¥å°†response.dataå†™å›æ–‡ä»¶,<br />
ç®€å•ç²—æš´, ä½†æ˜¯æœ‰æ•ˆğŸ˜„  <br/><br />
ç¬¬2ä¸ªå‘, å¦‚ä½•é™æ€åŒ–æ‰€æœ‰çš„url,<br />
è¿™ä¸ªæˆ‘æƒ³äº†å¥½ä¸€æ®µæ—¶é—´&hellip;æœ€åå‘ç°äº†flaskä¸€ä¸ªæœ‰æ„æ€ç‰¹æ€§: <a href="http://flask.pocoo.org/docs/0.11/patterns/urlprocessors/">url processors</a><br />
<img alt="" src="http://7xj431.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-06%20%E4%B8%8A%E5%8D%8810.37.35.png" /> <br/><br />
ç®€å•æ¥è¯´, æˆ‘æŠŠgenå‡½æ•°æ³¨å†Œåˆ°url_default_functionsé‡Œé¢,<br />
è¿™æ ·åœ¨æ‰€æœ‰url_forè¢«ä½¿ç”¨çš„æ—¶å€™æˆ‘çš„genå°±ä¼šè¢«è°ƒç”¨,<br />
æ‹¿åˆ°endpoint(ç«¯ç‚¹)å’Œvalue(å‚æ•°)ä¿¡æ¯, è¿™æ ·æˆ‘å°±å¯ä»¥<code>url = url_for(endpoint, **values)</code>æ„é€ url, å‘è¯·æ±‚å•¦, è€Œä¸”å¯ä»¥ç¡®ä¿æ‰€æœ‰ä½¿ç”¨url_foræ„å»ºçš„è·¯ç”±éƒ½ä¼šè¢«æˆ‘é™æ€åŒ–!<br/><br />
ç¬¬3ä¸ªå‘å¦‚ä½•é™æ€åŒ–static, å‘ƒ, é—®é¢˜åœ¨äºstaticæœ¬æ¥å°±æ˜¯é™æ€çš„,<br />
æ‰€ä»¥æˆ‘ä¹Ÿæ²¡å¿…è¦è¯·æ±‚staticè·¯ç”±, ç›´æ¥æŠŠstaticæ‹·è´åˆ°buildç›®å½•ä¸‹å°±å¥½å•¦! <br/><br />
ç¬¬4ä¸ªå‘æ¶‰åŠåˆ°é™æ€åŒ–åçš„éƒ¨ç½², æ¯”å¦‚å¯¹äºgh-pagesè¿™ç§url:<br />
<code>https://neo1218.github.io/project/</code>, å¦‚æœbuildç›¸å¯¹çš„è·¯å¾„ä¸æ­£ç¡®,<br />
å¯èƒ½ä¼šè¯¯æŠŠ<code>https://neo1218.github.io/</code>å½“ä½œæ ¹è·¯å¾„&hellip; è§£å†³çš„åŠæ³•ä¹Ÿå¾ˆç®€å•,<br />
æˆ‘è®¾ç½®äº†ä¸€ä¸ª<strong>GEN_BASE_URL</strong>é…ç½®æ‰‹åŠ¨æŒ‡æ˜æ ¹è·¯å¾„å°±è¡Œäº†.</p>

<h3 id="site">site: æœ¬åœ°ç«™ç‚¹</h3>

<p>ä½¿ç”¨<code>railgun init</code>ä¼šåœ¨æœ¬åœ°åˆå§‹åŒ–ä¸€ä¸ªsiteçš„å‰¯æœ¬. æˆ‘è¿™é‡Œæ²¡æœ‰ä½¿ç”¨gitç›´æ¥clone<br />
site, å› ä¸ºgit cloneéœ€è¦ç½‘, è€Œä¸”æ…¢. <br/><br />
å½“ä½ <code>pip install railgun-cli</code>çš„æ—¶å€™, railgunå°±ä¼šè¢«å®‰è£…åˆ°ä½ çš„python<br />
site-packagesç›®å½•ä¸‹. æˆ‘è®¾ç½®äº†2ä¸ªæ ¹è·¯å¾„:<br />
<img alt="" src="http://7xj431.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-06%20%E4%B8%8A%E5%8D%8811.02.20.png" /><br />
<img alt="" src="http://7xj431.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-06%20%E4%B8%8A%E5%8D%8811.02.35.png" /> <br/><br />
site_pathå°±ä¼šæŒ‡å‘å®‰è£…åˆ°site-packagesç›®å½•ä¸‹railguné‡Œçš„site,<br />
dstå°±æ˜¯ä½ æ‰§è¡Œrailgun initçš„åœ°æ–¹. <br/><br />
ç„¶årailgunåˆ›å»ºæœ¬åœ°site, os.walkéå†, shutilæ‹·è´site-packagesä¸‹çš„siteåˆ°dst<br />
<img alt="" src="http://7xj431.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-11-06%20%E4%B8%8A%E5%8D%8811.05.02.png" /> <br/><br />
è¿™æ ·ä½ æœ¬åœ°å°±initäº†railgun-site! <br/><br />
siteå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„flaskç«™ç‚¹, æˆ‘åˆ©ç”¨äº†<a href="https://pythonhosted.org/Flask-FlatPages/">flask-flatpages</a>ç®¡ç†markdownæ–‡ä»¶.</p>

<h3 id="cli">cli: å‘½ä»¤è¡Œå·¥å…·</h3>

<p>è¿™é‡Œç”¨åˆ°äº†flaskä½œè€…(æˆ‘çš„ç”·ç¥ä¹‹ä¸€,ps:æˆ‘æ˜¯ç”·çš„)å†™çš„<a href="https://github.com/pallets/click">å‘½ä»¤è¡Œå·¥å…·click</a>,<br />
railgunå‘½ä»¤å¤§ä½“çš„ç»“æ„å¦‚ä¸‹</p>

<pre><code>@click.group()
def cli():
    pass  # ä»£ç å®ç°

# railgun commands
cli.add_command(init)
cli.add_command(server)
cli.add_command(build)
cli.add_command(new)
cli.add_command(upload)
cli.add_command(upgrade)
</code></pre>

<p>æ¯ä¸€ä¸ªå‘½ä»¤çš„å…·ä½“å®ç°å¯ä»¥åˆ©ç”¨clickä¸°å¯Œçš„è£…é¥°å™¨, ä»¥initå‘½ä»¤ä¸ºä¾‹:</p>

<pre><code>@click.command()
@click.option('--dev', is_flag=True)
@click.argument('site_name')
def init(dev, site_name):
    """
    âš¡ï¸ generate a railgun site
    """
    pass
</code></pre>

<p>è€Œä¸”clickä¼šæŠŠè¿™é‡Œçš„æ³¨é‡Šä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆå¸®åŠ©æ–‡æ¡£! <br/><br />
æ›´å¤šçš„ç»†èŠ‚å¯ä»¥<a href="http://click.pocoo.org/5/">å‚çœ‹clickæ–‡æ¡£</a> <br/><br />
<hr/></p>

<h2 id="only-my-railgun">only my railgun</h2>

<p>railgunè¿™ä¸ªåå­—å’Œruby on railsæ²¡æœ‰å…³ç³»å•¦ğŸ˜‚ , è¿™ä¸ªåå­—æ¥æºäºä¸€éƒ¨åŠ¨æ¼«:<br />
ã€ŠæŸç§‘å­¦çš„è¶…ç”µç£ç‚®ã€‹(ã€ŠTo Aru Kagaku no Railgunã€‹) <br/><br />
<img alt="" src="https://cloud.githubusercontent.com/assets/10671733/20017054/f80f9706-a2fc-11e6-9a56-72e7b73c5320.png" /> <br/><br />
ä½œä¸ºä¸€ä¸ªé™æ€ç«™ç‚¹ç”Ÿæˆå™¨, railgunæœ€å¤§çš„é—®é¢˜æ˜¯æ²¡æœ‰ä¸»é¢˜&hellip; æˆ‘æ­£åœ¨æ‰¾å‰ç«¯çš„åŒå­¦å¸®å¿™,<br />
å†™å‡ ä¸ªä¸»é¢˜, ä¹Ÿæ¬¢è¿å…³æ³¨railgunçš„åŒå­¦å†™ä¸»é¢˜å“¦: <a href="https://neo1218.github.io/railgun/theme/">write a theme</a></p>

        </div>
    </div>
    <div id="disqus_thread" style="padding: 50px"></div>
    <script>
    /**
    * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    
    s.src = '//neo1218flask.disqus.com/embed.js';
    
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>

    </div>
</main>
<footer>
    <div id="foot">
        
            <div class="footer">
                <span>
                    Powered by:
                    <a href="https://github.com/neo1218/railgun/" target="_blank">railgun</a>
                    I am a loser
                </span>
                <br>
            </div>
        
    </div>
</footer>
<div id="back-to-top" data-scroll="body" style="top: -900px;">
</div>
</body>
    <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
    <script src=/static/js/base_site.js></script>
    <script src=/static/js/disqus/embed.js></script>
    <script src=/static/js/menufix.js></script>
    <script src=/static/js/backtotop.js></script>
    <script type="text/javascript">
        function loadMenuFix() { menufix("info_card"); }
        function loadDeadCat() { deadcat("toTop"); }
        function addLoadEvent(func) {
            var oldonload = window.onload;
            if (typeof window.onload != 'function') {
                window.onload = func;
            } else {
                window.onload = function() {
                    if (oldonload) {
                        oldonload();
                    }
                    func();
                }
            }
        }
        addLoadEvent(loadMenuFix);
        // addLoadEvent(loadDeadCat);
    </script>
</html>