<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    
    
    <!-- google site -->
    <meta name="google-site-verification" content="BazmSJ55LY7H3RD6ttelAsE8PmOPjhkFnDdIjFMCiJE" />
    <title>neo1218ã®æ­»å®… - POST</title>
    <link rel="shortcut icon" href="http://7xj431.com1.z0.glb.clouddn.com/cropped-150-150-688417.png" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href=/static/css/base_site.css>
    <link rel="stylesheet" type="text/css" href=/static/css/index.css>
    <link rel="stylesheet" type="text/css" href=/static/css/post.css>
    <link rel="stylesheet" type="text/css" href=/static/css/self_card.css>
    <link rel="stylesheet" type="text/css" href=/static/css/logo/github.css>
    <link rel="stylesheet" type="text/css" href=/static/css/logo/facebook.css>
    <link rel="stylesheet" type="text/css" href=/static/css/logo/twitter.css>
    <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/pygments.css">
    <link href=/static/image/bg.png>
</head>
<body>
<header>
    <div class="top-z-container">
        <!--blur-->
        <div class="blur-top-image"></div>
        <div id="top-bar">
            <nav class="left-box">
                <ul>
                    <li>
                        <a href=/>neo1218ã®æ­»å®…</a> - Pythoner æ­»å®…åˆ°åº• ä¸æƒ³è¯´è¯ æœ¨çŠ€ä¸‡å²!
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <div id="top-image"></div>
    <nav class="nav-wrapper">
        <ul class="category-list">
            <li>
                <a href=/>
                    <span>é¦–é¡µ</span>
                    <div class="menu-icon-wrapper">
                        <span class="menu-icon icon-no-bg-color fa fa-home"></span>
                    </div>
                </a>
            </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Web/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">7</span>
                        </div>
                        Web
                    </a>
                    <ul class="drop-down" align="center">
                        <span>Webå¼€å‘</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Life/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">2</span>
                        </div>
                        Life
                    </a>
                    <ul class="drop-down" align="center">
                        <span>ç”Ÿæ´»éšç¬”</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Python/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">14</span>
                        </div>
                        Python
                    </a>
                    <ul class="drop-down" align="center">
                        <span>Pythonå­¦ä¹ </span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Other/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">3</span>
                        </div>
                        Other
                    </a>
                    <ul class="drop-down" align="center">
                        <span>å…¶ä»–</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/DIY/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">4</span>
                        </div>
                        DIY
                    </a>
                    <ul class="drop-down" align="center">
                        <span>ä¸ªäººé¡¹ç›®</span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/OS/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">3</span>
                        </div>
                        OS
                    </a>
                    <ul class="drop-down" align="center">
                        <span>æ“ä½œç³»ç»Ÿå­¦ä¹ </span>
                    </ul>
                </li>
            
                <li onmouseover="show_menu(this)" onmouseout="hide_menu(this)">
                    <a href=/tag/Algo/>
                        <div class="menu-icon-wrapper">
                            <span class="menu-icon">7</span>
                        </div>
                        Algo
                    </a>
                    <ul class="drop-down" align="center">
                        <span>ç®—æ³•å­¦ä¹ </span>
                    </ul>
                </li>
            
            <li>
                <a href=/about/>
                    <span>å…³äº</span>
                    <div class="menu-icon-wrapper">
                        <span class="menu-icon icon-no-bg-color fa fa-info"></span>
                    </div>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main>
    <div id="main">
        
<div class="post-body-wrapper">
    <div class="main_post">
        <h1>Pythonè®¾è®¡æ¨¡å¼</h1>
        <h3>2016-06-19 09:13:42</h3>
        <div class="post_body">
            <h1>è®¾è®¡æ¨¡å¼</h1>

<p>è®¾è®¡æ¨¡å¼æ˜¯å¯¹ç‰¹å®šæƒ…å¢ƒä¸‹è§£å†³é—®é¢˜çš„ä»£ç çš„æŠ½è±¡</p>

<h1>Pythonè®¾è®¡æ¨¡å¼</h1>

<h2>ç­–ç•¥æ¨¡å¼(Strategy Pattern)</h2>

<p><strong>åœºæ™¯:</strong><br/>
ç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§åœ¨è¿è¡Œæ—¶(runtime)å†³å®šç¨‹åºå…·ä½“è¡Œä¸ºçš„è¡Œä¸ºæ¨¡å¼ã€‚</p>

<p><strong>æ¨¡å¼:</strong><br/>
context 1: class_1 <br/>
context 2: class_2 <br/></p>

<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="n">StrategyPattern</span>(<span class="n">object</span>):

    <span class="n">def</span> <span class="n">__init__</span>(<span class="k">self</span>, <span class="n">class_1</span>, <span class="n">class_2</span>, <span class="nb">context</span>):
        <span class="k">self</span>.<span class="nb">context</span> = <span class="nb">context</span>
        <span class="k">self</span>.<span class="n">class_1</span> = <span class="n">class_1</span>
        <span class="k">self</span>.<span class="n">class_2</span> = <span class="n">class_2</span>

    <span class="n">def</span> <span class="n">operation</span>(<span class="k">self</span>):
        <span class="k">if</span> <span class="k">self</span>.<span class="nb">context</span> == <span class="s">&quot;context_for_class_1&quot;</span>:
            <span class="k">self</span>.<span class="n">class_1</span>.<span class="n">operation</span>()
        <span class="n">else:</span>
            <span class="k">self</span>.<span class="n">class_2</span>.<span class="n">operation</span>()
</pre></div>

<p>è¿™ä¸ªç­–ç•¥æ¨¡å¼ç”¨äºåˆå¹¶ä¸åŒcontextä¸­çš„ä¸¤ä¸ªç±»æ“ä½œ, ä¸Šå±‚çš„ç­–ç•¥æ¨¡å¼ç±»è¿›è¡Œè°ƒåº¦,
é¿å…äº†æ¯ä¸ªä½¿ç”¨class_1æˆ–class_2çš„contextè¿›è¡Œé‡å¤åˆ¤æ–­.</p>

<h2>é€‚é…å™¨æ¨¡å¼(Adapter Pattern)</h2>

<p><strong>åœºæ™¯:</strong><br/>
é€‚é…å™¨å°±æ˜¯å°è£…, å°†å¯èƒ½å¤šæ¬¡ä½¿ç”¨çš„æ“ä½œå°è£…åˆ°ä¸€ä¸ªé€‚é…å™¨(å°è£…)ç±»ä¸­,
é¿å…ä¸‹æ¬¡ä½¿ç”¨æ—¶ä»å¤´å¼€å§‹ç¼–å†™.</p>

<p><strong>æ¨¡å¼:</strong><br/></p>

<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="n">Operation1</span>(<span class="n">object</span>):
    <span class="n">def</span> <span class="n">operation1</span>(<span class="k">self</span>):
        <span class="nb">pass</span>

<span class="k">class</span> <span class="n">Operation2</span>(<span class="n">object</span>):
    <span class="n">def</span> <span class="n">operation2</span>(<span class="k">self</span>):
        <span class="nb">pass</span>

<span class="k">class</span> <span class="n">AdapterClass</span>(<span class="n">object</span>):
    <span class="n">def</span> <span class="n">operation</span>(<span class="k">self</span>):
        <span class="n">o1</span> = <span class="n">Operation1</span>()
        <span class="n">o2</span> = <span class="n">Operation2</span>()

        <span class="n">o1</span>.<span class="n">operation1</span>()
        <span class="n">o2</span>.<span class="n">operation2</span>()
</pre></div>

<h2>å·¥å‚æ¨¡å¼(Factory Pattern)</h2>

<p><strong>åœºæ™¯:</strong><br/>
é¡¾åæ€ä¹‰, å·¥å‚æ¨¡å¼ç”¨äºç”Ÿäº§å®ä¾‹å¯¹è±¡,
ä½¿ç”¨å·¥å‚æ¨¡å¼çš„æœ€å¥½æ—¶æœºæ˜¯ç”Ÿäº§å‡ºçš„å¯¹è±¡å®ä¾‹åœ¨ä¸åŒä¸Šä¸‹æ–‡ä¸­æœ‰ä¸åŒçš„è¡¨ç°.</p>

<p><strong>æ¨¡å¼:</strong><br/>
Button: æŒ‰é’®ç±»ğŸ”˜ <br/>
Image: å›¾åƒæŒ‰é’®: <code>&lt;img&gt;&lt;/img&gt;</code> <br/>
Input: è¾“å…¥æŒ‰é’®: <code>&lt;input&gt;&lt;/input&gt;</code> <br/>
Flash: flashæŒ‰é’®: <code>&lt;obj&gt;&lt;/obj&gt;</code> <br/>
ButtonFactory: æŒ‰é’®å·¥å‚ç±»<br/></p>

<div class="codehilite"><pre><span></span>class Button(object):
    html = &#39;&#39;
    def get_html(self):
        return self.html

class Image(Button):
    html = &#39;<span class="nt">&lt;img&gt;&lt;/img&gt;</span>&#39;

class Input(Button):
    html = &#39;<span class="nt">&lt;input&gt;&lt;/input&gt;</span>&#39;

class Flash(Button):
    html = &#39;<span class="nt">&lt;obj&gt;&lt;/obj&gt;</span>&#39;

class ButtonFactory(object):
    def create_button(self, typ):
        target_class = typ.capitalize() # capitalize string
        # globals capitalize string -&gt; class
        return globals()[target_class]()
</pre></div>

<p>ä½¿ç”¨:</p>

<div class="codehilite"><pre><span></span>button_obj = ButtonFactory()
button_type = [&#39;image&#39;, &#39;input&#39;, &#39;flash&#39;]
for button in button_type:
    button_obj.create_button(button)
</pre></div>

<p>ååˆ†ç®€ä»‹ã€æ¸…æ¥š.</p>

<h2>è£…é¥°å™¨æ¨¡å¼</h2>

<p><strong>åœºæ™¯:</strong><br/>
è£…é¥°å™¨æ¨¡å¼ç”¨äºåœ¨ç‰¹å®šåœºæ™¯å¯¹æŸä¸ªæ“ä½œæ·»åŠ é¢å¤–çš„åŠŸèƒ½.</p>

<p><strong>æ¨¡å¼:</strong><br/>
æ¯”å¦‚åšä¸€ä¸ªéº¦å½“æœ±æ±‰å ¡ğŸ” <br/>
è¿™æ˜¯åŸæ–™:</p>

<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="n">Meet</span>(<span class="n">object</span>):
    <span class="n">def</span> <span class="n">__repr__</span>(<span class="k">self</span>):
        <span class="k">return</span> <span class="s">&quot;æˆ‘æ˜¯è‚‰&quot;</span>

<span class="k">class</span> <span class="n">Bread</span>(<span class="n">object</span>):
    <span class="n">def</span> <span class="n">__repr__</span>(<span class="k">self</span>):
        <span class="k">return</span> <span class="s">&quot;æˆ‘æ˜¯é¢åŒ…&quot;</span>
</pre></div>

<p>å¼€å§‹ç”Ÿäº§:</p>

<div class="codehilite"><pre><span></span>def produce_meet():
    meet = Meet()
    return meet.__repr__()

def produce(produce_meet):
    bread1 = Bread()
    bread2 = Bread()
    def decorator():
        bread1.__repr__()
        produce_meet()
        bread2.__repr__()
    return decorator
</pre></div>

<p>ä¸ªäººå¾ˆå–œæ¬¢è£…é¥°å™¨æ¨¡å¼, è£…é¥°å™¨æ¨¡å¼æ˜¯ä»£ç é‡ç”¨çš„æœ€ä¼˜é›…å¢ƒç•Œ, ç‰¹åˆ«æ˜¯ç»“åˆPythonçš„è¯­æ³•ç³–@ä½¿ç”¨.</p>

<h2>å•ä¾‹æ¨¡å¼</h2>

<p><strong>åœºæ™¯:</strong><br/>
å•ä¾‹æ¨¡å¼ä¿è¯æˆ‘ä»¬åœ¨è¿è¡Œç¯å¢ƒ(runtime)ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹.</p>

<p><strong>æ¨¡å¼:</strong><br/>
è¿™é‡Œä»¥tornadoçš„IOLoopç±»æºç ä¸ºä¾‹:
<img alt="IOLoop" src="http://7xj431.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-05-08%20%E4%B8%8B%E5%8D%8810.09.51.png" /> <br/> å•ä¾‹æ¨¡å¼å¯ä»¥ä¿è¯åœ¨åŒä¸€æ—¶å€™åªæœ‰ä¸€ä¸ªIOLoopå®ä¾‹è¿è¡Œ.</p>

<h1>æ€»ç»“</h1>

<p>è®¾è®¡æ¨¡å¼æ˜¯å¯¹é—®é¢˜çš„æ€»ç»“, å¯¹è§£å†³é—®é¢˜ä»£ç çš„æŠ½è±¡; ä½†æ˜¯ä¸è¦æ‹˜æ³¥äºä¸€å®šè¦ç”¨è®¾è®¡æ¨¡å¼,
å½“ä½ è§‰å¾—ä½ çš„ä»£ç å†™çš„å¾ˆä¸‘çš„æ—¶å€™, å¯ä»¥è€ƒè™‘ç”¨è®¾è®¡æ¨¡å¼æ•´å®¹ä½ çš„ä»£ç .</p>

<h1>å‚è€ƒ</h1>

<ul>
<li><a href="https://segmentfault.com/a/1190000003931281">ä½¿ç”¨Pythonè§£é‡Šè®¾è®¡æ¨¡å¼</a></li>
</ul>

        </div>
    </div>
    <div id="disqus_thread" style="padding: 50px"></div>
    <script>
    /**
    * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    
    s.src = '//neo1218flask.disqus.com/embed.js';
    
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>

    </div>
</main>
<footer>
    <div id="foot">
        
            <div class="footer">
                <span>
                    Powered by:
                    <a href="https://github.com/neo1218/railgun/" target="_blank">railgun</a>
                </span>
                <br>
            </div>
        
    </div>
</footer>
<!--div id="to-top">
    <a href="" onclick="scroll_to_top(0.9); return false;">
        <img src="http://7xj431.com1.z0.glb.clouddn.com/tt.gif"
            style="height: 160px; width: 160px"></img>
    </a>
</div-->
<a href="#" id="toTop" style="top: 0px;" onclick="scroll_to_top(0.9); return false;">
    <div id="toTopRope"></div>
    <img id="toTopHover" src="http://7xj431.com1.z0.glb.clouddn.com/topscroll.png"></div>
</a>
</body>
    <script src=/static/js/base_site.js> </script>
</html>